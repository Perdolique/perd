name: Prepare deployment artifact
description: Checkout code, setup pnpm and download build artifact

inputs:
  artifact-name:
    description: Name of the artifact to download
    required: true
  unpack-path:
    description: Path to unpack the downloaded artifact
    required: true

runs:
  using: composite
  steps:
    # Setup Node.js and install dependencies
    - uses: ./.github/actions/setup-pnpm
      with:
        install-dependencies: true

    # Download build artifact
    - name: Download build artifact
      uses: actions/download-artifact@v6
      with:
        name: ${{ inputs.artifact-name }}
        path: ${{ inputs.unpack-path }}
